:root{
  --accent: #2f6ea8;
  --accent-2: #285e95;
  --bg: #eef3f6;
  --card: #ffffff;
  --muted: #8d99a6;
  --bubble-other: #f2f5f8;
  --input-border: rgba(20,30,40,0.06);
}

/* page */
html,body { height:100%; margin:0; font-family: "Segoe UI", Roboto, system-ui, -apple-system, sans-serif; background:var(--bg); }
.outer-wrapper { min-height:100vh; display:flex; align-items:flex-start; justify-content:center; padding:36px 12px; }

/* card */
.chat-card {
  width: 420px;
  max-width: calc(100% - 24px);
  height: 640px;
  border-radius: 12px;
  background: linear-gradient(180deg, var(--card), #fbfdff);
  box-shadow: 0 18px 38px rgba(10,18,25,0.10);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border: 1px solid rgba(20,30,40,0.04);
}

/* header */
.chat-header { display:flex; align-items:center; justify-content:space-between; padding:14px 16px; background:linear-gradient(180deg,var(--accent),var(--accent-2)); color:white; }
.chat-header .title { font-weight:600; font-size:16px; }
.chat-header .status { font-size:13px; opacity:0.95; }

/* body (messages) */
.chat-body {
  flex: 1;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow-y: auto;
  background: linear-gradient(180deg, rgba(250,250,250,0.6), rgba(255,255,255,0.95));
  scroll-behavior: smooth;
}

/* empty state */
.empty-state { margin:auto; text-align:center; color:var(--muted); }
.empty-state .emoji { font-size:36px; margin-bottom:8px; }
.empty-state .empty-text { font-size:14px; }

/* message row */
.msg-row { display:flex; align-items:flex-end; gap:10px; animation: fadeIn .18s ease forwards; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: none; } }

/* avatar */
.avatar { width:36px; height:36px; border-radius:8px; background:#e9f4fb; color:var(--accent-2); display:flex; align-items:center; justify-content:center; font-weight:600; }

/* bubble base */
.bubble { position: relative; max-width:72%; display:flex; }
.bubble-content {
  position: relative;
  padding: 10px 12px 18px 12px; /* bottom padding leaves room for time */
  border-radius: 14px;
  box-shadow: 0 8px 20px rgba(15,22,28,0.04);
}

/* sender label for other */
.sender { font-size:12px; color:var(--muted); margin-bottom:6px; }

/* bubble text */
.bubble-text {
  font-size:14px;
  line-height:1.35;
  white-space:pre-wrap;
  word-wrap:break-word;
  padding-right: 46px; /* reserve space for time */
}

/* time inside bubble, bottom-right */
.bubble-time {
  position: absolute;
  right: 8px;
  bottom: 6px;
  font-size: 11px; /* small like WhatsApp */
  opacity: 0.9;
  pointer-events: none;
}

/* different time colors for self vs them */
.bubble-time.time-self { color: rgba(255,255,255,0.9); }
.bubble-time.time-them { color: #6b7882; }

/* self vs them styling */
.msg-row.me { justify-content:flex-end; }
.msg-row.me .bubble-content { background: var(--accent); color: white; border-bottom-right-radius:6px; border-bottom-left-radius:14px; }
.msg-row.them { justify-content:flex-start; }
.msg-row.them .bubble-content { background: var(--bubble-other); color: #0f1720; border-bottom-left-radius:6px; border-bottom-right-radius:14px; }

/* typing indicator */
.typing-indicator { font-style:italic; color:var(--muted); margin-left:46px; font-size:13px; }

/* input area pinned at bottom */
.chat-input-area { border-top: 1px solid var(--input-border); padding: 12px; background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(248,249,250,0.98)); }
.input-inner { display:flex; gap:10px; align-items:flex-end; }

/* textarea like WhatsApp: compact, expands only slightly */
.input-textarea {
  flex: 1;
  min-height: 38px;
  max-height: 90px; /* at most ~3 lines */
  resize: none;
  padding: 8px 12px;
  border-radius: 20px;
  border: 1px solid var(--input-border);
  outline: none;
  font-size: 14px;
  line-height: 1.3;
  background: white;
  overflow: auto;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
}
.input-textarea:focus { border-color: var(--accent); box-shadow: 0 10px 26px rgba(49,110,168,0.06); }

/* send button small pill */
.send-button {
  background: var(--accent);
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 16px;
  cursor: pointer;
  font-weight: 600;
}
.send-button:disabled { opacity: 0.6; cursor: not-allowed; }

/* responsive */
@media (max-width:480px) {
  .chat-card { width: 96%; height: 86vh; }
  .avatar { display:none; }
  .typing-indicator { margin-left:0; }
}
